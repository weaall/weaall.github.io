3:I[5613,[],""]
5:I[1778,[],""]
6:I[7709,["229","static/chunks/229-125a0445ef9a59b1.js","250","static/chunks/250-e1cebaeae1771402.js","185","static/chunks/app/layout-1635e8ee7b1540f1.js"],""]
7:I[8667,["160","static/chunks/app/not-found-817c2752032c2711.js"],""]
8:I[8036,["229","static/chunks/229-125a0445ef9a59b1.js","250","static/chunks/250-e1cebaeae1771402.js","185","static/chunks/app/layout-1635e8ee7b1540f1.js"],""]
4:["slug","search-function3","d"]
0:["NBONtNsrghgEhSVvdns2t",[[["",{"children":["(pages)",{"children":["shallow",{"children":[["slug","search-function3","d"],{"children":["__PAGE__?{\"slug\":\"search-function3\"}",{}]}]}]}]},"$undefined","$undefined",true],["",{"children":["(pages)",{"children":["shallow",{"children":[["slug","search-function3","d"],{"children":["__PAGE__",{},["$L1","$L2",null]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(pages)","children","shallow","children","$4","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(pages)","children","shallow","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(pages)","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]]},[null,["$","html",null,{"lang":"kr","children":[["$","head",null,{"children":[["$","meta",null,{"name":"naver-site-verification","content":"e782934088f4524e1d46947402328d9864f04318"}],["$","meta",null,{"name":"google-site-verification","content":"EB5qLPhkvA7mD6Yz6VpiZaMErWP4KIB7Aj_rR-xqdsA"}],["$","link",null,{"rel":"icon","href":"/favicon.ico"}]]}],["$","body",null,{"className":"__className_a1b02f","children":["$","div",null,{"children":["$","div",null,{"children":[["$","$L6",null,{}],["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","$L7",null,{}],"notFoundStyles":[],"styles":null}],["$","$L8",null,{}]],"style":{},"className":"mx-auto max-w-[1080px] h-auto px-1"}],"style":{},"className":"mx-auto text-main"}]}]]}],null]],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/6a5f3c35560f6327.css","precedence":"next","crossOrigin":""}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/4837ad08e76e29b1.css","precedence":"next","crossOrigin":""}],["$","link","2",{"rel":"stylesheet","href":"/_next/static/css/e70dff98502bd6db.css","precedence":"next","crossOrigin":""}]],"$L9"]]]]
a:I[9275,["229","static/chunks/229-125a0445ef9a59b1.js","624","static/chunks/624-671fa786836002d7.js","101","static/chunks/app/(pages)/shallow/%5Bslug%5D/page-3500f5374e655c88.js"],"MDXContent"]
b:I[2946,["229","static/chunks/229-125a0445ef9a59b1.js","624","static/chunks/624-671fa786836002d7.js","101","static/chunks/app/(pages)/shallow/%5Bslug%5D/page-3500f5374e655c88.js"],"H2"]
c:I[2946,["229","static/chunks/229-125a0445ef9a59b1.js","624","static/chunks/624-671fa786836002d7.js","101","static/chunks/app/(pages)/shallow/%5Bslug%5D/page-3500f5374e655c88.js"],"Img"]
d:I[2946,["229","static/chunks/229-125a0445ef9a59b1.js","624","static/chunks/624-671fa786836002d7.js","101","static/chunks/app/(pages)/shallow/%5Bslug%5D/page-3500f5374e655c88.js"],"Li"]
e:I[2946,["229","static/chunks/229-125a0445ef9a59b1.js","624","static/chunks/624-671fa786836002d7.js","101","static/chunks/app/(pages)/shallow/%5Bslug%5D/page-3500f5374e655c88.js"],"A"]
f:I[2946,["229","static/chunks/229-125a0445ef9a59b1.js","624","static/chunks/624-671fa786836002d7.js","101","static/chunks/app/(pages)/shallow/%5Bslug%5D/page-3500f5374e655c88.js"],"Hr"]
10:I[2946,["229","static/chunks/229-125a0445ef9a59b1.js","624","static/chunks/624-671fa786836002d7.js","101","static/chunks/app/(pages)/shallow/%5Bslug%5D/page-3500f5374e655c88.js"],"Em"]
11:I[2946,["229","static/chunks/229-125a0445ef9a59b1.js","624","static/chunks/624-671fa786836002d7.js","101","static/chunks/app/(pages)/shallow/%5Bslug%5D/page-3500f5374e655c88.js"],"Strong"]
12:I[2946,["229","static/chunks/229-125a0445ef9a59b1.js","624","static/chunks/624-671fa786836002d7.js","101","static/chunks/app/(pages)/shallow/%5Bslug%5D/page-3500f5374e655c88.js"],"H3"]
13:I[2946,["229","static/chunks/229-125a0445ef9a59b1.js","624","static/chunks/624-671fa786836002d7.js","101","static/chunks/app/(pages)/shallow/%5Bslug%5D/page-3500f5374e655c88.js"],"Pre"]
14:I[2946,["229","static/chunks/229-125a0445ef9a59b1.js","624","static/chunks/624-671fa786836002d7.js","101","static/chunks/app/(pages)/shallow/%5Bslug%5D/page-3500f5374e655c88.js"],"Code"]
9:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"검색기능의 다양화 III - 검색어 찾기 (fuse.js)"}],["$","meta","3",{"name":"description","content":"fuse.js 의 활용"}],["$","link","4",{"rel":"canonical","href":"https://weaall.github.io/"}],["$","meta","5",{"property":"og:title","content":"Weaall's Dive"}],["$","meta","6",{"property":"og:description","content":"Weaall's pretty personal idea"}],["$","meta","7",{"property":"og:url","content":"https://weaall.github.io/"}],["$","meta","8",{"property":"og:site_name","content":"Weaall's Dive"}],["$","meta","9",{"property":"og:locale","content":"ko_KR"}],["$","meta","10",{"property":"og:image","content":"https://weaall.github.io/profile.png"}],["$","meta","11",{"property":"og:image:alt","content":"Weaall's Dive"}],["$","meta","12",{"property":"og:image","content":"https://weaall.github.io/another-image.jpg"}],["$","meta","13",{"property":"og:image:alt","content":"보조 이미지 설명"}],["$","meta","14",{"property":"og:type","content":"website"}],["$","meta","15",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","16",{"name":"twitter:title","content":"Weaall's Dive"}],["$","meta","17",{"name":"twitter:description","content":"Weaall's pretty personal idea"}],["$","meta","18",{"name":"twitter:image","content":"https://weaall.github.io/profile.png"}],["$","meta","19",{"name":"twitter:image:alt","content":"Weaall's Dive"}],["$","meta","20",{"name":"twitter:image","content":"https://weaall.github.io/another-image.jpg"}],["$","meta","21",{"name":"twitter:image:alt","content":"보조 이미지 설명"}],["$","link","22",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"16x16"}]]
1:null
15:T457,import Fuse from "fuse.js";

const [newSearchValue, setNewSearchValue] = useState();
const [filteredRecommendations, setFilteredRecommendations] = useState<{ type: string; value: string }[]>([]);

const combinedData = [
    ...regions.map((item) => ({ type: "region", value: item, chosung: getChosung(item) })),
    ...hotels.map((item) => ({ type: "hotel", value: item, chosung: getChosung(item) })),
];

const handleFuseSearch = (newSearchValue) => {
    if (!newSearchValue.trim()) {
        setFilteredRecommendations(defaultItems.map((item) => ({ type: "region", value: item })));
        return;
    }

    const cleanSearchValue = newSearchValue.replace(/\s+/g, "");
    const fuse = new Fuse(combinedData, {
        keys: ["value", "chosung"],
        threshold: 0.9,
    });

    const result = fuse.search(cleanSearchValue).map((result) => result.item);
    setFilteredRecommendations(result.length > 0 ? result.slice(0, 10) : defaultItems.map((item) => ({ type: "region", value: item })));
};

useEffect(() => {
    handleFuseSearch(newSearchValue);
}, [newSearchValue]);
2:["$","$La",null,{"content":[["$","$Lb",null,{"children":"검색창의 다양화"}],"\n",["$","p",null,{"children":["$","$Lc",null,{"src":"/posts/shallow/search-function1/layout3.png","alt":"1","title":"레이아웃 예시"}]}],"\n",["$","ul",null,{"children":["\n",["$","$Ld",null,{"children":["I: 실시간 검색어 순위 - ",["$","$Le",null,{"href":"https://weaall.github.io/shallow/search-function1","children":"Link"}]]}],"\n",["$","$Ld",null,{"children":["II: 최근 검색어 - ",["$","$Le",null,{"href":"https://weaall.github.io/shallow/search-function2","children":"Link"}]]}],"\n",["$","$Ld",null,{"children":["III: 검색어 찾기 - ",["$","$Le",null,{"href":"https://weaall.github.io/shallow/search-function3","children":"Link"}]]}],"\n"]}],"\n",["$","$Lf",null,{}],"\n",["$","$Lb",null,{"children":"검색어 찾기"}],"\n",["$","p",null,{"children":["$","$Lc",null,{"src":"/posts/shallow/search-function1/map3.png","alt":"1","title":"검색어 찾기 구조"}]}],"\n",["$","ul",null,{"children":["\n",["$","$Ld",null,{"children":["검색어 입력 시 초성만 입력되었을 경우 빈 값이 출력되지 않도록 ",["$","$L10",null,{"children":"getChosung"}],"을 활용하여 해당 초성으로 구성된 추천 검색어를 제공 ",["$","$L11",null,{"children":"(초성 검색 지원)"}]]}],"\n",["$","$Ld",null,{"children":[["$","$L10",null,{"children":"combinedData"}],"에서 지역을 먼저 매핑하여 지역이 호텔보다 우선적으로 출력되도록 설정"]}],"\n"]}],"\n",["$","br",null,{}],"\n",["$","p",null,{"children":["[ 추천 검색어는 매핑된 순서대로 제공되므로, ",["$","$L11",null,{"children":"인기 순 정렬이 필요"}],"할 수 있음. 다만, 이를 위해 추가적인 통신이 발생할 가능성이 있어 고려가 필요 ]"]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","$L12",null,{"children":"/fusejs.utils.ts"}],"\n",["$","$L13",null,{"children":["$","$L14",null,{"className":"language-typescript","children":"export const getChosung = (text: string) => {\r\n    const CHOSUNG_LIST = [\"ㄱ\", \"ㄲ\", \"ㄴ\", \"ㄷ\", \"ㄸ\", \"ㄹ\", \"ㅁ\", \"ㅂ\", \"ㅃ\", \"ㅅ\", \"ㅆ\", \"ㅇ\", \"ㅈ\", \"ㅉ\", \"ㅊ\", \"ㅋ\", \"ㅌ\", \"ㅍ\", \"ㅎ\"];\r\n    const START_KOREAN = 0xac00; // \"가\"\r\n    const END_KOREAN = 0xd7a3; // \"힣\"\r\n\r\n    return text\r\n        .split(\"\")\r\n        .map((char) => {\r\n            const code = char.charCodeAt(0);\r\n            if (code >= START_KOREAN && code <= END_KOREAN) {\r\n                const index = Math.floor((code - START_KOREAN) / 588);\r\n                return CHOSUNG_LIST[index];\r\n            }\r\n            return char;\r\n        })\r\n        .join(\"\");\r\n};\n"}]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","$L12",null,{"children":"/recommendations.ts"}],"\n",["$","$L13",null,{"children":["$","$L14",null,{"className":"language-typescript","children":"export const regions = [\r\n    \"서울\",\r\n    \"부산\",\r\n    \"인천\",\r\n]\r\nexport const hotels = [\r\n    \"시그니엘 서울\",\r\n    \"콘래드 서울\",\r\n    \"포 시즌스 호텔 서울\",\r\n]\n"}]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","$L12",null,{"children":"/SearchValue.modal.tsx"}],"\n",["$","$L13",null,{"children":["$","$L14",null,{"className":"language-typescript","children":"$15"}]}]],"frontmatter":{"label":"Web","title":"검색기능의 다양화 III - 검색어 찾기 (fuse.js)","subTitle":"fuse.js 의 활용","date":"2025.02.03","mins":10,"tags":["fuse.js","검색어 찾기"],"imageUrl":"/posts/shallow/search-function1/map3.png"}}]
