3:I[5613,[],""]
5:I[1778,[],""]
6:I[7709,["250","static/chunks/250-70e21483a8ac042a.js","662","static/chunks/662-3ff164d45cbaa71a.js","185","static/chunks/app/layout-9e5eeaa029c6f475.js"],""]
7:I[8667,["160","static/chunks/app/not-found-a16bd453cc118838.js"],""]
4:["slug","deep-tossPayments","d"]
0:["Jq2p_PB67JX4wA29NcQUr",[[["",{"children":["(pages)",{"children":["deep",{"children":[["slug","deep-tossPayments","d"],{"children":["__PAGE__?{\"slug\":\"deep-tossPayments\"}",{}]}]}]}]},"$undefined","$undefined",true],["",{"children":["(pages)",{"children":["deep",{"children":[["slug","deep-tossPayments","d"],{"children":["__PAGE__",{},["$L1","$L2",null]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(pages)","children","deep","children","$4","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(pages)","children","deep","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(pages)","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]]},[null,["$","html",null,{"lang":"kr","children":[["$","head",null,{"children":[["$","meta",null,{"name":"naver-site-verification","content":"e782934088f4524e1d46947402328d9864f04318"}],["$","meta",null,{"name":"google-site-verification","content":"EB5qLPhkvA7mD6Yz6VpiZaMErWP4KIB7Aj_rR-xqdsA"}]]}],["$","body",null,{"className":"__className_e662c1","children":["$","div",null,{"children":[["$","div",null,{"children":[["$","$L6",null,{}],["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","$L7",null,{}],"notFoundStyles":[],"styles":null}]],"style":{},"className":"mx-auto max-w-[1080px] h-auto p-6"}],["$","div",null,{"children":["$","div",null,{"children":[["$","div",null,{"children":[["$","p",null,{"children":"Dong-Hyun Wi","style":{},"className":"font-bold text-2xl"}],["$","p",null,{"children":"weaall@naver.com","style":{},"className":"text-sm"}],["$","p",null,{"children":"weaall88@gmail.com","style":{},"className":"text-sm"}]],"style":{},"className":"flex flex-col m-auto text-center space-y-1 w-[33%]"}],["$","div",null,{"children":["$","img",null,{"alt":"","src":"../../assets/svg/user_icon.svg","style":{},"className":"w-8 h-full m-auto group-hover:scale-110"}],"style":{},"className":"flex flex-col m-auto text-center space-y-1 w-[33%]"}],["$","div",null,{"children":[["$","a",null,{"href":"/","children":"Main","style":{},"className":"font-bold text-base"}],["$","a",null,{"href":"/shallow","children":"Shallow","style":{},"className":"font-bold text-base"}],["$","a",null,{"href":"/deep","children":"Deep","style":{},"className":"font-bold text-base"}],["$","a",null,{"href":"/","children":"Me","style":{},"className":"font-bold text-base"}]],"style":{},"className":"flex m-auto space-x-4 w-[33%] justify-center"}]],"style":{},"className":"mx-auto max-w-[1080px] h-40 justify-between flex mobile:flex-col mobile:h-52"}],"style":{},"className":"w-full border-t mt-20 text-t-main"}]],"style":{},"className":"mx-auto text-main"}]}]]}],null]],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/92f2fa493c2ab7ac.css","precedence":"next","crossOrigin":""}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/8190741854806289.css","precedence":"next","crossOrigin":""}]],"$L8"]]]]
9:T44b,        onClick={async () => {
                try {
                    await updateBookingRef();
                    Cookies.set('bookingData', JSON.stringify(bookingData), { expires: 10 / (24 * 60) });
                    try {
                        await paymentWidget?.requestPayment({
                            orderId: customerKey,
                            orderName: props.orderName,
                            customerName: props.customerName,
                            customerEmail: props.customerEmail,
                            customerMobilePhone: props.customerMobilePhone,
                            successUrl: `${window.location.origin}/success`,
                            failUrl: `${window.location.origin}/fail`,
                        });
                    } catch (paymentError) {
                        await rollbackBookingRef();
                        throw paymentError;
                    }
                } catch (error) {
                     window.alert("결제에 실패하였습니다.");
                }
            }}
2:[["$","div",null,{"children":[["$","div",null,{"children":["$","img",null,{"style":{},"className":""}],"style":{},"className":"w-full bg-main h-96 rounded-lg"}],["$","div",null,{"children":[["$","h1",null,{"children":"TossPayments의 대한 깊은 고찰","style":{},"className":"text-3xl text-main font-bold after:content-['.'] after:text-red-500"}],["$","p",null,{"children":"결제는 몇번의 검증이 들어가야 좋을까?","style":{},"className":"text-xl"}],["$","div",null,{"children":[["$","img",null,{"alt":"","src":"../../assets/svg/calendar_icon.svg","style":{},"className":"w-4 mr-3"}],["$","p",null,{"children":"2024.06.06","style":{},"className":"text-sm text-main mr-10"}],["$","img",null,{"alt":"","src":"../../assets/svg/book_icon.svg","style":{},"className":"w-4 mr-3"}],["$","p",null,{"children":[20,"mins"],"style":{},"className":"text-sm text-main mr-10"}]],"style":{},"className":"flex h-auto"}],["$","div",null,{"children":[["$","div",null,{"children":"Toss","style":{},"className":"mt-2 text-xs bg-[#eeeeee] px-2 py-1 rounded-lg cursor-pointer"}],["$","div",null,{"children":"TossPayments","style":{},"className":"mt-2 text-xs bg-[#eeeeee] px-2 py-1 rounded-lg cursor-pointer"}],["$","div",null,{"children":"결제연동","style":{},"className":"mt-2 text-xs bg-[#eeeeee] px-2 py-1 rounded-lg cursor-pointer"}],["$","div",null,{"children":"PG사","style":{},"className":"mt-2 text-xs bg-[#eeeeee] px-2 py-1 rounded-lg cursor-pointer"}],["$","div",null,{"children":"보안","style":{},"className":"mt-2 text-xs bg-[#eeeeee] px-2 py-1 rounded-lg cursor-pointer"}]],"style":{},"className":"flex space-x-3 h-auto"}]],"style":{},"className":"py-16 space-y-4 border-b-2"}]],"style":{},"className":"pb-20"}],[["$","h2",null,{"children":["$","a",null,{"href":"#TossPayments","children":"TossPayments"}],"style":{},"className":"text-2xl font-bold mt-0 mb-9 after:content-['.'] after:text-red-500 cursor-pointer"}],"\n",["$","p",null,{"children":[["$","a",null,{"target":"_blank","href":"https://namu.wiki/w/%EA%B2%B0%EC%A0%9C%EB%8C%80%ED%96%89%EC%82%AC","children":"전자결제대행사","style":{},"className":"text-lg font-bold text-red-500"}],"\r\n(PG / Payment Gateway)는 이커머스 결제 지불 대행 서비스를 진행하는 중개업체를 이르는 말인데,",["$","br",null,{}],"\n","**토스페이먼츠, KG이니시스, NHN KCP ** 이 3개 업체가 가장 높은 점유율을 차지한다."],"style":{},"className":"text-lg py-3"}],"\n",["$","p",null,{"children":"나는 가장 점유율이 높고, 개발자센터를 통해 쉽고 간편하게 연동할 수 있는 토스페이먼츠를 사용해보기로 했다.","style":{},"className":"text-lg py-3"}],"\n",["$","hr",null,{"children":"$undefined","style":{},"className":"my-20 w-full h-[2px] bg-t-main"}],"\n",["$","h2",null,{"children":["$","a",null,{"href":"#결제 프로세스와 검증","children":"결제 프로세스와 검증"}],"style":{},"className":"text-2xl font-bold mt-0 mb-9 after:content-['.'] after:text-red-500 cursor-pointer"}],"\n",["$","p",null,{"children":[["$","div",null,{"children":[["$","img",null,{"src":"/posts/deep/tossPayments/toss_payments.png","children":"$undefined","style":{},"className":"mx-auto"}],["$","p",null,{"children":"토스페이먼츠 결제 과정","style":{},"className":"text-xs text-gray-400"}]],"style":{},"className":"w-full mx-auto py-6 text-center"}],"\r\n토스페이먼츠의 결제 과정은 다음과같다."],"style":{},"className":"text-lg py-3"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"토스페이먼츠에서 제공하는 결제위젯을 화면에 전시","style":{},"className":"pl-6 py-2 text-lg before:content-['-'] before:font-bold before:pr-3"}],"\n",["$","li",null,{"children":"결제하기로 요청","style":{},"className":"pl-6 py-2 text-lg before:content-['-'] before:font-bold before:pr-3"}],"\n",["$","li",null,{"children":"사용자 결제","style":{},"className":"pl-6 py-2 text-lg before:content-['-'] before:font-bold before:pr-3"}],"\n",["$","li",null,{"children":"결제승인 API요청","style":{},"className":"pl-6 py-2 text-lg before:content-['-'] before:font-bold before:pr-3"}],"\n",["$","li",null,{"children":"성공, 실패 Url로 리다이렉트","style":{},"className":"pl-6 py-2 text-lg before:content-['-'] before:font-bold before:pr-3"}],"\n"]}],"\n",["$","p",null,{"children":"이 일련의 과정속에서 가장 중요한건 MITM을 막고 데이터의 무결성을 훼손하지 않는일일 것이다.","style":{},"className":"text-lg py-3"}],"\n",["$","pre",null,{"children":["$","div",null,{"children":[["$","div",null,{"children":["$","p",null,{"children":"TypeScript","style":{},"className":"text-2xl font-bold after:content-['.'] after:text-red-500"}],"style":{},"className":"absolute top-0 rounded-2xl py-3 px-6 bg-white w-fit ml-8"}],["$","div",null,{"children":["$","code",null,{"className":"rounded-xl text-t-main my-6 text-base language-TypeScript","children":"$9","style":{}}],"style":{},"className":"bg-main p-6 pt-12 rounded-xl"}]],"style":{},"className":"relative rounded-xl text-main text-base pt-8 mb-10"}],"style":{},"className":"text-t-main text-base"}]]]
8:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"TossPayments의 대한 깊은 고찰"}],["$","meta","3",{"name":"description","content":"결제는 몇번의 검증이 들어가야 좋을까?"}],["$","link","4",{"rel":"canonical","href":"https://weaall.github.io/"}],["$","meta","5",{"property":"og:title","content":"Weaall's Dive"}],["$","meta","6",{"property":"og:description","content":"Weaall's pretty personal idea"}],["$","meta","7",{"property":"og:url","content":"https://weaall.github.io/"}],["$","meta","8",{"property":"og:site_name","content":"Weaall's Dive"}],["$","meta","9",{"property":"og:image","content":"https://weaall.github.io/profile.png"}],["$","meta","10",{"property":"og:image:alt","content":"Weaall's Dive"}],["$","meta","11",{"property":"og:type","content":"website"}],["$","meta","12",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","13",{"name":"twitter:title","content":"Weaall's Dive"}],["$","meta","14",{"name":"twitter:description","content":"Weaall's pretty personal idea"}],["$","meta","15",{"name":"twitter:image","content":"https://weaall.github.io/profile.png"}],["$","meta","16",{"name":"twitter:image:alt","content":"Weaall's Dive"}]]
1:null
